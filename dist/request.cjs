"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("axios"),t=require("./merge-DNQoOYXz.js"),s=require("qs"),r=require("./shared.cjs");class a{axiosInstance;baseConfig;constructor(t,s){this.baseConfig={...t},this.axiosInstance=e.create(this.baseConfig);const{request:r,response:a,requestError:n,responseError:o}=s||{};this.axiosInstance.interceptors.request.use((async e=>await(r?.(e)||e)),n),this.axiosInstance.interceptors.response.use((e=>a?.(e)||e),(e=>o?.(e)||Promise.reject(e)))}uploadFile(e,t={}){const s=new window.FormData,a=t.name||"file";return t.filename?s.append(a,t.file,t.filename):s.append(a,t.file),t.data&&Object.keys(t.data).forEach((e=>{const r=t.data[e];Array.isArray(r)?r.forEach((t=>{s.append(`${e}[]`,t)})):s.append(e,t.data[e])})),this.axiosInstance.request({...e,method:"POST",data:s,headers:{"Content-type":r.ContentTypeEnum.FORM_DATA}})}formatFormData(e){const t=e.headers||this.baseConfig.headers;return(t?.["Content-Type"]||t?.["content-type"])!==r.ContentTypeEnum.FORM_URLENCODED||e.data&&"object"==typeof e.data&&Object.keys(e.data.length)||e.method?.toUpperCase()===r.RequestMethodsEnum.GET?e:{...e,data:s.stringify(e.data,{arrayFormat:"brackets"})}}get(e){return this.request({...e,method:"get"})}post(e){return this.request({...e,method:"post"})}put(e){return this.request({...e,method:"put"})}delete(e){return this.request({...e,method:"delete"})}request(e){const s=t.merge({},this.baseConfig,this.formatFormData(e));return this.axiosInstance.request(s)}}exports.HttpRequest=a,exports.default=a;
